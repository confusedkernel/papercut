{{ define "main" }}
  <section class="border border-[var(--border)] bg-[var(--bg-alt)] p-5 shadow-[0_14px_24px_-18px_rgba(0,0,0,0.35)] sm:p-6">
    <div class="flex flex-col gap-3">
      <p class="text-xs uppercase tracking-[0.12em] text-[var(--muted)]">
        {{ .Section | default "Posts" }}
      </p>
      <h1 class="text-2xl sm:text-3xl">{{ .Title }}</h1>
      {{ with .Content }}
        <div class="prose-inline-links text-sm leading-relaxed text-[var(--muted)]">{{ . }}</div>
      {{ end }}
    </div>
  </section>

  <section class="flex flex-col gap-4">
    <div class="flex flex-col gap-4">
      {{ $isPostsList := or (eq .Section "posts") (eq .RelPermalink "/posts/") }}
      {{ if $isPostsList }}
        {{ $paginator := .Paginate .Pages 5 }}
        {{ range $paginator.Pages }}
          {{ partial "article-card.html" . }}
        {{ end }}

        {{ if gt $paginator.TotalPages 1 }}
          <nav aria-label="Pagination" class="mt-1 flex flex-wrap items-center justify-center gap-2">
            {{ if $paginator.HasPrev }}
              <a class="index-hover border border-[var(--border)] bg-[var(--bg-alt)] px-3 py-1.5 text-[0.72rem] uppercase tracking-[0.08em]" href="{{ $paginator.Prev.URL }}">
                Prev
              </a>
            {{ end }}

            {{ range $paginator.Pagers }}
              <a
                class="index-hover border border-[var(--border)] bg-[var(--bg-alt)] px-3 py-1.5 text-[0.72rem] uppercase tracking-[0.08em] {{ if eq .PageNumber $paginator.PageNumber }}font-bold text-[var(--fg)]{{ else }}text-[var(--muted)]{{ end }}"
                href="{{ .URL }}"
                {{ if eq .PageNumber $paginator.PageNumber }}aria-current="page"{{ end }}
              >
                {{ .PageNumber }}
              </a>
            {{ end }}

            {{ if $paginator.HasNext }}
              <a class="index-hover border border-[var(--border)] bg-[var(--bg-alt)] px-3 py-1.5 text-[0.72rem] uppercase tracking-[0.08em]" href="{{ $paginator.Next.URL }}">
                Next
              </a>
            {{ end }}
          </nav>
        {{ end }}
      {{ else }}
        {{ range .Pages }}
          {{ partial "article-card.html" . }}
        {{ end }}
      {{ end }}
    </div>
  </section>

  {{ if or (eq .Section "posts") (eq .RelPermalink "/posts/") }}
    {{ partial "quick-links.html" . }}
  {{ end }}
{{ end }}
